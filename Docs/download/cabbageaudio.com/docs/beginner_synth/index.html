<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"> <title>Beginner Synth | Cabbage Audio</title> <meta name=description content="Cabbage is a framework for audio software development. Using simple markup text and the Csound audio synthesis language users can target four major operating..."> <link rel=canonical href="index.html"> <link rel=alternate type=application/rss+xml title="Cabbage Audio" href=http://cabbageaudio.com/feed.xml> <link rel=apple-touch-icon sizes=57x57 href=http://cabbageaudio.com/apple-touch-icon-57x57.png> <link rel=apple-touch-icon sizes=60x60 href=http://cabbageaudio.com/apple-touch-icon-60x60.png> <link rel=apple-touch-icon sizes=72x72 href=http://cabbageaudio.com/apple-touch-icon-72x72.png> <link rel=apple-touch-icon sizes=76x76 href=http://cabbageaudio.com/apple-touch-icon-76x76.png> <link rel=apple-touch-icon sizes=114x114 href=http://cabbageaudio.com/apple-touch-icon-114x114.png> <link rel=apple-touch-icon sizes=120x120 href=http://cabbageaudio.com/apple-touch-icon-120x120.png> <link rel=apple-touch-icon sizes=144x144 href=http://cabbageaudio.com/apple-touch-icon-144x144.png> <link rel=apple-touch-icon sizes=152x152 href=http://cabbageaudio.com/apple-touch-icon-152x152.png> <link rel=apple-touch-icon sizes=180x180 href=http://cabbageaudio.com/apple-touch-icon-180x180.png> <link rel=icon type=image/png href=http://cabbageaudio.com/favicon-32x32.png sizes=32x32> <link rel=icon type=image/png href=http://cabbageaudio.com/favicon-194x194.png sizes=194x194> <link rel=icon type=image/png href=http://cabbageaudio.com/favicon-96x96.png sizes=96x96> <link rel=icon type=image/png href=http://cabbageaudio.com/android-chrome-192x192.png sizes=192x192> <link rel=icon type=image/png href=http://cabbageaudio.com/favicon-16x16.png sizes=16x16> <link rel=manifest href=http://cabbageaudio.com/manifest.json> <link rel=mask-icon href=http://cabbageaudio.com/safari-pinned-tab.svg color=#93d200> <meta name=apple-mobile-web-app-title content="Cabbage Audio"> <meta name=application-name content="Cabbage Audio"> <meta name=msapplication-TileColor content=#24b1f2> <meta name=msapplication-TileImage content=http://cabbageaudio.com/mstile-144x144.png> <meta name=theme-color content=#0391d1> <link rel=stylesheet href="../../styles/main.css"> </head> <body class=docs> <div class=wrapper> <header class=navigation role=banner> <div class=navigation-wrapper> <a href="http://cabbageaudio.com/" class=logo-header> <img src="../../images/cabbage_transparent.svg" alt="Cabbage Logo"> </a> <a href=javascript:void(0) class=navigation-menu-button id=js-mobile-menu>MENU</a> <nav role=navigation> <ul id=js-navigation-menu class="navigation-menu show"> <li class=nav-link> <a href="http://cabbageaudio.com/" title=Home>Home</a> </li> <li class=nav-link> <a href=http://cabbageaudio.com/#features title=Features>Features</a> </li> <li class=nav-link> <a href="http://cabbageaudio.com/download/" title=Download>Download</a> </li> <li class="nav-link more"> <a href="http://cabbageaudio.com/" title=Learning>Learning</a> <ul class=submenu> <li> <a href="../introduction/index.html" title=Docs>Docs</a> </li> <li> <a href="http://cabbageaudio.com/tutorials/" title=Videos>Videos</a> </li> </ul> </li> <li class=nav-link> <a href="http://cabbageaudio.com/faq/" title=FAQ>FAQ</a> </li> <li class=nav-link> <a href=http://forum.cabbageaudio.com title=Forum target=_blank>Forum</a> </li> </ul> </nav> </div> </header> <!--[if lt IE 11]>
 <p class="browserupgrade">You are using an <strong>outdated</strong> browser. The CabbageAudio site may not display correctly. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
 <![endif]--> <aside class=doc-nav> <nav role=navigation id=doc-menu> <h3>Cabbage Docs</h3> <hr> <ul> <li> <a href=http://cabbageaudio.com/docs/intro class=sub-menu-trigger> <i class=icon-right-open></i>&nbsp; Quickstart </a> <ul class=submenu> <li><a href="../introduction/index.html">Introduction</a></li> <li><a href="../standalone_host/index.html">Standalone Host</a></li> <li><a href="../first_synth/index.html">First Synth</a></li> <li><a href="../controlling/index.html">Controlling</a></li> <li><a href="../first_effect/index.html">First Effect</a></li> <li><a href="../exporting/index.html">Exporting</a></li> <li><a href="../distributing/index.html">Distributing</a></li> <li><a href="../cabbage_studio/index.html">Cabbage Studio</a></li> <li><a href="../android/index.html">Android</a></li> <li><a href="../cabbage_audio_unit/index.html">Cabbage Audio Unit</a></li> </ul> </li> </ul> <ul> <li> <a href=http://cabbageaudio.com class=sub-menu-trigger> <i class=icon-right-open></i>&nbsp; Cabbage Widgets </a> <ul class=submenu> <li><a href="../cabbage_syntax/index.html">Cabbage Syntax</a></li> <li><a href="../button/index.html">Button</a></li> <li><a href="../button_file/index.html">Button File</a></li> <li><a href="../button_info/index.html">Button Info</a></li> <li><a href="../checkbox/index.html">Checkbox</a></li> <li><a href="../combobox/index.html">Combobox</a></li> <li><a href="../csound_output/index.html">Csound Output</a></li> <li><a href="../encoder/index.html">Encoder</a></li> <li><a href="../gentable/index.html">Gentable</a></li> <li><a href="../hrange/index.html">Hrange</a></li> <li><a href="../fftdisplay/index.html">Fftdisplay</a></li> <li><a href="../form/index.html">Form</a></li> <li><a href="../groupbox/index.html">Groupbox</a></li> <li><a href="../image/index.html">Image</a></li> <li><a href="../keyboard/index.html">Keyboard</a></li> <li><a href="../label/index.html">Label</a></li> <li><a href="../numberbox/index.html">Numberbox</a></li> <li><a href="../sliders/index.html">Sliders</a></li> <li><a href="../soundfiler/index.html">Soundfiler</a></li> <li><a href="../table/index.html">Table</a></li> <li><a href="../textbox/index.html">Textbox</a></li> <li><a href="../texteditor/index.html">Texteditor</a></li> <li><a href="../vrange/index.html">Vrange</a></li> <li><a href="../xypad/index.html">Xypad</a></li> </ul> </li> </ul> <ul> <li> <a href=http://cabbageaudio.com class=sub-menu-trigger> <i class=icon-right-open></i>&nbsp; Extras </a> <ul class=submenu> <li><a href="../identchannels/index.html">Identchannels</a></li> <li><a href="../plants/index.html">Plants</a></li> <li><a href="../presets/index.html">Presets</a></li> <li><a href="../gui_designer/index.html">Gui Designer</a></li> <li><a href="../widget_arrays/index.html">Widget Arrays</a></li> <li><a href="../managing_large_numbers_of_widgets/index.html">Managing Large Numbers Of Widgets</a></li> <li><a href="../macros_and_reserved_channels/index.html">Macros And Reserved Channels</a></li> <li><a href="../using_svgs/index.html">Using Svgs</a></li> </ul> </li> </ul> <ul class=active-sub-item> <li> <a href=http://cabbageaudio.com class=sub-menu-trigger> <i class="icon-right-open active-sub-item"></i>&nbsp; Csound </a> <ul class=submenu> <li><a href="../csound_syntax/index.html">Csound Syntax</a></li> <li><a href="../keywords/index.html">Keywords</a></li> <li><a href="../contants_and_variables/index.html">Contants And Variables</a></li> <li><a href="../opcodes/index.html">Opcodes</a></li> <li><a href="../operators_and_comments/index.html">Operators And Comments</a></li> <li class=current><a href="index.html">Beginner Synth</a></li> </ul> </li> </ul> <ul class=active-sub-item> <li> <a href=http://cabbageaudio.com class=sub-menu-trigger> <i class="icon-right-open active-sub-item"></i>&nbsp; Extending Cabbage </a> <ul class=submenu> <li><a href="../new_widgets_part_1/index.html">New Widgets Part 1</a></li> <li><a href="../new_widgets_part_2/index.html">New Widgets Part 2</a></li> <li><a href="../new_widgets_part_3/index.html">New Widgets Part 3</a></li> </ul> </li> </ul> </nav> </aside> <div class=doc-content> <i class="toggle-nav icon icon-menu">&#xe81b;</i> <div class=container> <article class=post>  <div class=post-content> <h1>Beginner Synth</h1> <p>As mentioned in the opening page of this beginner&#39;s section, each Cabbage instrument is defined in a simple text file with a .csd extension. The syntax used to create GUI widgets is quite straightforward and should be provided within special xml-style tags <cabbage> and </cabbage> which can appear either above or below Csound&#39;s own <csoundsynthesizer> tags. Each line of Cabbage specific code relates to one GUI widget only. The attributes of each widget are set using different identifiers such as colour(), channel(), size() etc. Where identifiers are not used, Cabbage will use the default values. Long lines can be broken up with a &#39;\&#39; placed at the end of a line. </csoundsynthesizer></p> <p>Each and every Cabbage widget has 4 common parameters: position on screen(x, y) and size(width, height). Apart from position and size all other parameters are optional and if left out default values will be assigned. To set widget parameters you will need to use an appropriate identifier after the widget name. More information on the various widgets and identifiers available in Cabbage can be found in the Widget reference section of these docs.</p> <h3>Getting started.</h3> <p>Now that the basics of the Csound language have been outlined, let&#39;s create a simple instrument. The opcodes used in this simple walk through are vco2, madsr, moogladder and out.</p> <p>The vco2 opcode models a voltage controlled oscillator. It provides users with an effective way of generating band-limited waveforms and can be the building blocks of many a synthesiser. Its syntax, taken from the Csound <a href=https://csound.github.io/docs/manual/vco2.html>reference</a> manual, is given below. It is important to become au fait with the way opcodes are presented in the Csound reference manual. It, along with the the Cabbage widget reference are two documents that you will end up referencing time and time again as you start developing Cabbage instruments.<br> <code>csharp
ares vco2 kamp, kcps [, imode] [, kpw] [, kphs] [, inyx]
</code> <code>vco2</code> outputs an a-rate signal and accepts several different input argument. The types of input parameters are given by the first letter in their names. We see above that the kamp argument needs to be k-rate. Square brackets around an input argument means that argument is optional and can be left out. Although not seen above, whenever an input argument start with &#39;x&#39;, it can be an i, k or a-rate variable. </p> <p><em>kamp</em> determines the amplitude of the signal, while <em>kcps</em> set the frequency of the signal. The default type of waveform created by a <code>vco2</code> is a sawtooth waveform. The simplest instrument that can be written to use a <code>vco2</code> is given below. The <code>out</code> opcode is used to output an a-rate signal as audio.</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>instr</span> <span class=m>1</span>
<span class=n>aOut</span> <span class=n>vco2</span> <span class=m>1</span><span class=p>,</span> <span class=m>440</span>
<span class=k>out</span> <span class=n>aOut</span>
<span class=n>endin</span>
</code></pre></div> <p>In the traditional Csound context, we would start this instrument using a &#39;score statement&#39;. We&#39;ll learn about score statements later, but because we are building a synthesiser that will be played with a MIDI keyboard, our score section will not be very complex. In fact, it will only contain one line of code. <em>f0 z</em> is a special score statement that instructs Csound to listen for events for an extremely long time. Below is the entire source code, including a simple Cabbage section for the instrument presented above.</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=p>&lt;</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=n>form</span> <span class=nf>caption</span><span class=p>(</span><span class=s>"Untitled"</span><span class=p>)</span> <span class=nf>size</span><span class=p>(</span><span class=m>400</span><span class=p>,</span> <span class=m>300</span><span class=p>),</span> <span class=nf>colour</span><span class=p>(</span><span class=m>58</span><span class=p>,</span> <span class=m>110</span><span class=p>,</span> <span class=m>182</span><span class=p>),</span> <span class=nf>pluginID</span><span class=p>(</span><span class=s>"def1"</span><span class=p>)</span>
<span class=n>keyboard</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>8</span><span class=p>,</span> <span class=m>158</span><span class=p>,</span> <span class=m>381</span><span class=p>,</span> <span class=m>95</span><span class=p>)</span>
<span class=p>&lt;/</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsoundSynthesizer</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsOptions</span><span class=p>&gt;</span>
<span class=p>-+</span><span class=n>rtmidi</span><span class=p>=</span><span class=n>NULL</span> <span class=p>-</span><span class=n>M0</span> <span class=p>-</span><span class=n>m0d</span> <span class=p>--</span><span class=n>midi</span><span class=p>-</span><span class=n>key</span><span class=p>-</span><span class=n>cps</span><span class=p>=</span><span class=m>4</span> <span class=p>--</span><span class=n>midi</span><span class=p>-</span><span class=n>velocity</span><span class=p>-</span><span class=n>amp</span><span class=p>=</span><span class=m>5</span>
<span class=p>&lt;/</span><span class=n>CsOptions</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsInstruments</span><span class=p>&gt;</span>
<span class=p>;</span> <span class=n>Initialize</span> <span class=n>the</span> <span class=k>global</span> <span class=n>variables</span><span class=p>.</span> 
<span class=n>sr</span> <span class=p>=</span> <span class=m>44100</span>
<span class=n>ksmps</span> <span class=p>=</span> <span class=m>32</span>
<span class=n>nchnls</span> <span class=p>=</span> <span class=m>2</span>
<span class=m>0d</span><span class=n>bfs</span> <span class=p>=</span> <span class=m>1</span>

<span class=p>;</span><span class=n>instrument</span> <span class=n>will</span> <span class=n>be</span> <span class=n>triggered</span> <span class=k>by</span> <span class=n>keyboard</span> <span class=n>widget</span>
<span class=n>instr</span> <span class=m>1</span>
<span class=n>iFreq</span> <span class=p>=</span> <span class=n>p4</span>
<span class=n>iAmp</span> <span class=p>=</span> <span class=n>p5</span>
<span class=n>aOut</span> <span class=n>vco2</span> <span class=n>iAmp</span><span class=p>,</span> <span class=n>iFreq</span>
<span class=n>outs</span> <span class=n>aOut</span><span class=p>,</span> <span class=n>aOut</span>
<span class=n>endin</span>

<span class=p>&lt;/</span><span class=n>CsInstruments</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsScore</span><span class=p>&gt;</span>
<span class=p>;</span><span class=n>causes</span> <span class=n>Csound</span> <span class=n>to</span> <span class=n>run</span> <span class=k>for</span> <span class=n>about</span> <span class=m>7000</span> <span class=n>years</span><span class=p>...</span>
<span class=n>f0</span> <span class=n>z</span>
<span class=p>&lt;/</span><span class=n>CsScore</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=n>CsoundSynthesizer</span><span class=p>&gt;</span>
</code></pre></div> <p>You&#39;ll notice that the pitch and frequency for the <code>vco2</code> opcode has been replaced with two <em>i</em>-rate variables, <em>iFreq</em> and <em>iAmp</em>, who in turn get their value from <em>p5</em>, and <em>p4</em>. <em>p5</em> and <em>p4</em> are p-variables. Their values will be assigned based on incoming MIDI data. If you look at the code in the <csoptions> section you&#39;ll see the text &#39;--midi-key-cps=4 --midi-velocity-amp=5&#39;. This instructs Csound to pass the current note&#39;s velocity to <em>p5</em>, and the current note&#39;s frequency, in cycle per second(Hz.) to <em>p4</em>. <em>p4</em> and <em>p5</em> were chosen arbitrarily. <em>p7</em>, <em>p8</em>, <em>p</em>-whatever could have been used, so long as we accessed those same <em>p</em> variables in our instrument.</csoptions></p> <p>Another important piece of text from the <csoptions> section is the &#39;<em>-M0</em>&#39;. This tells Csound to send MIDI data to our instruments. Whenever a note is pressed using the on-screen MIDI keyboard, or a hardware keyboard if one is connected, it will trigger instrument 1 to play. Not only will it trigger instrument one to play, it will also pass the current note&#39;s amplitude and frequency to our two <em>p</em> variables. </csoptions></p> <h3>Don&#39;t be a click head!</h3> <p>If you&#39;ve tried out the instrument above you&#39;ll notice the notes will click each time they sound. To avoid this, an amplitude envelope should be applied to the output signal. The most common envelope is the ubiquitous ADSR envelope. ADSR stands for Attack, Decay, Sustain and Release. The attack, decay and sustain sections are given in seconds as they relate to time values. The sustain value describes the sustain level which kicks in after the attack and decay times have passed. The note&#39;s amplitude will rest at this sustain level until it is released.</p> <p><img src="../../images/docs/adsr.png"></p> <p>Csound offers several ADSR envelopes. The simplest one to use, and the one that will work out of the box with MIDI based instruments is <code>madsr</code> Its syntax, as listed in the Csound <a href=https://csound.github.io/docs/manual/madsr.html>reference</a> manual, is given as:</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>kres</span> <span class=n>madsr</span> <span class=n>iatt</span><span class=p>,</span> <span class=n>idec</span><span class=p>,</span> <span class=n>islev</span><span class=p>,</span> <span class=n>irel</span>
</code></pre></div> <p>Note that the inputs to madsr are <em>i</em>-rate. They cannot change over the duration of a note. There are several places in the instrument code where the output of this opcode can be used. It could be applied directly to the first input argument of the vco2 opcode, or it can be placed in the line with the out opcode. Both are valid approaches. </p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=p>&lt;</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=n>form</span> <span class=nf>caption</span><span class=p>(</span><span class=s>"Untitled"</span><span class=p>)</span> <span class=nf>size</span><span class=p>(</span><span class=m>400</span><span class=p>,</span> <span class=m>300</span><span class=p>),</span> <span class=nf>colour</span><span class=p>(</span><span class=m>58</span><span class=p>,</span> <span class=m>110</span><span class=p>,</span> <span class=m>182</span><span class=p>),</span> <span class=nf>pluginID</span><span class=p>(</span><span class=s>"def1"</span><span class=p>)</span>
<span class=n>keyboard</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>8</span><span class=p>,</span> <span class=m>158</span><span class=p>,</span> <span class=m>381</span><span class=p>,</span> <span class=m>95</span><span class=p>)</span>
<span class=p>&lt;/</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsoundSynthesizer</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsOptions</span><span class=p>&gt;</span>
<span class=p>-</span><span class=n>n</span> <span class=p>-</span><span class=n>d</span> <span class=p>-+</span><span class=n>rtmidi</span><span class=p>=</span><span class=n>NULL</span> <span class=p>-</span><span class=n>M0</span> <span class=p>-</span><span class=n>m0d</span> <span class=p>--</span><span class=n>midi</span><span class=p>-</span><span class=n>key</span><span class=p>-</span><span class=n>cps</span><span class=p>=</span><span class=m>4</span> <span class=p>--</span><span class=n>midi</span><span class=p>-</span><span class=n>velocity</span><span class=p>-</span><span class=n>amp</span><span class=p>=</span><span class=m>5</span>
<span class=p>&lt;/</span><span class=n>CsOptions</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsInstruments</span><span class=p>&gt;</span>
<span class=p>;</span> <span class=n>Initialize</span> <span class=n>the</span> <span class=k>global</span> <span class=n>variables</span><span class=p>.</span> 
<span class=n>sr</span> <span class=p>=</span> <span class=m>44100</span>
<span class=n>ksmps</span> <span class=p>=</span> <span class=m>32</span>
<span class=n>nchnls</span> <span class=p>=</span> <span class=m>2</span>
<span class=m>0d</span><span class=n>bfs</span> <span class=p>=</span> <span class=m>1</span>

<span class=p>;</span><span class=n>instrument</span> <span class=n>will</span> <span class=n>be</span> <span class=n>triggered</span> <span class=k>by</span> <span class=n>keyboard</span> <span class=n>widget</span>
<span class=n>instr</span> <span class=m>1</span>
<span class=n>iFreq</span> <span class=p>=</span> <span class=n>p4</span>
<span class=n>iAmp</span> <span class=p>=</span> <span class=n>p5</span>
<span class=n>iAtt</span> <span class=p>=</span> <span class=m>0.1</span>
<span class=n>iDec</span> <span class=p>=</span> <span class=m>0.4</span>
<span class=n>iSus</span> <span class=p>=</span> <span class=m>0.6</span>
<span class=n>iRel</span> <span class=p>=</span> <span class=m>0.7</span>
<span class=n>kEnv</span> <span class=n>madsr</span> <span class=n>iAtt</span><span class=p>,</span> <span class=n>iDec</span><span class=p>,</span> <span class=n>iSus</span><span class=p>,</span> <span class=n>iRel</span> 
<span class=n>aOut</span> <span class=n>vco2</span> <span class=n>iAmp</span><span class=p>,</span> <span class=n>iFreq</span>
<span class=n>outs</span> <span class=n>aOut</span><span class=p>*</span><span class=n>kEnv</span><span class=p>,</span> <span class=n>aOut</span><span class=p>*</span><span class=n>kEnv</span>
<span class=n>endin</span>

<span class=p>&lt;/</span><span class=n>CsInstruments</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsScore</span><span class=p>&gt;</span>
<span class=p>;</span><span class=n>causes</span> <span class=n>Csound</span> <span class=n>to</span> <span class=n>run</span> <span class=k>for</span> <span class=n>about</span> <span class=m>7000</span> <span class=n>years</span><span class=p>...</span>
<span class=n>f0</span> <span class=n>z</span>
<span class=p>&lt;/</span><span class=n>CsScore</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=n>CsoundSynthesizer</span><span class=p>&gt;</span>
</code></pre></div> <h3>Controlling ADSR parameters.</h3> <p>The values of the ADSR parameters can be set using widgets. A typical widget for such control is a slider of some sort. They all behave in more or less the same way. Their job is to send numbers to Csound on a fixed channel. Each widget that is capable of controlling some aspect of an instrument must have a channel set using the <code>channel()</code> identifier. In the following code 4 rslider are created. Each one has a unique <code>channel()</code> set, and they all have the same range. More details on sliders can be found in the widget reference section.</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=p>&lt;</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=n>form</span> <span class=nf>caption</span><span class=p>(</span><span class=s>"Simple Synth"</span><span class=p>)</span> <span class=nf>size</span><span class=p>(</span><span class=m>450</span><span class=p>,</span> <span class=m>260</span><span class=p>),</span> <span class=nf>colour</span><span class=p>(</span><span class=m>58</span><span class=p>,</span> <span class=m>110</span><span class=p>,</span> <span class=m>182</span><span class=p>),</span> <span class=nf>pluginID</span><span class=p>(</span><span class=s>"def1"</span><span class=p>)</span>
<span class=n>keyboard</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>14</span><span class=p>,</span> <span class=m>120</span><span class=p>,</span> <span class=m>413</span><span class=p>,</span> <span class=m>95</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>12</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>105</span><span class=p>,</span> <span class=m>101</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"att"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.01</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Attack"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>114</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>105</span><span class=p>,</span> <span class=m>101</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"dec"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.5</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Decay"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>218</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>105</span><span class=p>,</span> <span class=m>101</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"sus"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.5</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Sustain"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>322</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>105</span><span class=p>,</span> <span class=m>101</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"rel"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.7</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Release"</span><span class=p>)</span>
<span class=p>&lt;/</span><span class=n>Cabbage</span><span class=p>&gt;</span>
</code></pre></div> <p><img src="../../images/docs/csound_cabbage_synth1.png"></p> <p>It can&#39;t be stated enough that each widget responsible for controlling an aspect of your instrument MUST have a channel set using the <code>channel()</code> identifier. Why? Because Csound can access these channels using its <code>chnget</code> opcode. The syntax for <code>chnget</code> is very simple:</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>kRes</span> <span class=n>chnget</span> <span class=s>"channel"</span>
</code></pre></div> <p>The <code>chnget</code> opcode will create a variable that will contain the current value of the named channel. The rate at which the <code>chnget</code> opcode will operate at is determined by the first letter of its output variable. The simple instrument shown in the complete example above can now be modified so that it accesses the values of each of the sliders. </p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>instr</span> <span class=m>1</span>
<span class=n>iFreq</span> <span class=p>=</span> <span class=n>p4</span>
<span class=n>iAmp</span> <span class=p>=</span> <span class=n>p5</span>
<span class=n>iAtt</span> <span class=n>chnget</span> <span class=s>"att"</span>
<span class=n>iDec</span> <span class=n>chnget</span> <span class=s>"dec"</span>
<span class=n>iSus</span> <span class=n>chnget</span> <span class=s>"sus"</span>
<span class=n>iRel</span> <span class=n>chnget</span> <span class=s>"rel"</span>
<span class=n>kEnv</span> <span class=n>madsr</span> <span class=n>iAtt</span><span class=p>,</span> <span class=n>iDec</span><span class=p>,</span> <span class=n>iSus</span><span class=p>,</span> <span class=n>iRel</span> 
<span class=n>aOut</span> <span class=n>vco2</span> <span class=n>iAmp</span><span class=p>,</span> <span class=n>iFreq</span>
<span class=n>outs</span> <span class=n>aOut</span><span class=p>*</span><span class=n>kEnv</span><span class=p>,</span> <span class=n>aOut</span><span class=p>*</span><span class=n>kEnv</span>
<span class=n>endin</span>
</code></pre></div> <p>Every time a user plays a note, the instrument will grab the current value of each slider and use that value to set its ADSR envelop. Note that the <code>chnget</code> opcodes listed above all operate at i-time only. This is important because the <code>madsr</code> opcode expects <em>i</em>-rate variable. </p> <h3>Low-pass me the Cabbage please...</h3> <p>ADSR envelopes are often used to control the cut-off frequency of low-pass filters. Low-pass filters block high frequency components of a sound, while letting lower frequencies pass. A popular low-pass filter found in Csound is the moogladder filter which is modeled on the famous filters found in Moog synthesisers. Its syntax, as listed in the Csound <a href=https://csound.github.io/docs/manual/moogladder.html>reference</a> manual is given as:</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>asig</span> <span class=n>moogladder</span> <span class=n>ain</span><span class=p>,</span> <span class=n>kcf</span><span class=p>,</span> <span class=n>kres</span>
</code></pre></div> <p>Its first input argument is an a-rate variable. The next two arguments set the filter cut-off frequency and the amount of resonance to be added to the signal. Both of these can be k-rate variables, thus allowing them to be changed during the note. Cut-off and resonance controls can easily be added to our instrument. To do so we need to add two more sliders to our Cabbage section of code. We&#39;ll also need to add two more <code>chnget</code> opcodes and a <code>moogladder</code> to our Csound code. One thing to note about the cut-off slider is that it should be exponential. As the users increases the slider, it should increment in larger and larger steps. We can do this be setting the sliders <em>skew</em> value to .5. More details about this can be found in the slider widget reference page. </p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=p>&lt;</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=n>form</span> <span class=nf>caption</span><span class=p>(</span><span class=s>"Simple Synth"</span><span class=p>)</span> <span class=nf>size</span><span class=p>(</span><span class=m>450</span><span class=p>,</span> <span class=m>220</span><span class=p>),</span> <span class=nf>colour</span><span class=p>(</span><span class=m>58</span><span class=p>,</span> <span class=m>110</span><span class=p>,</span> <span class=m>182</span><span class=p>),</span> <span class=nf>pluginID</span><span class=p>(</span><span class=s>"def1"</span><span class=p>)</span>
<span class=n>keyboard</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>14</span><span class=p>,</span> <span class=m>88</span><span class=p>,</span> <span class=m>413</span><span class=p>,</span> <span class=m>95</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>12</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"att"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.01</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Attack"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>82</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"dec"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.5</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Decay"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>152</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"sus"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.5</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Sustain"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>222</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"rel"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.7</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Release"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>292</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"cutoff"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>22000</span><span class=p>,</span> <span class=m>2000</span><span class=p>,</span> <span class=p>.</span><span class=m>5</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Cut-Off"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>360</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"res"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.7</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Resonance"</span><span class=p>)</span>
<span class=p>&lt;/</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsoundSynthesizer</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsOptions</span><span class=p>&gt;</span>
<span class=p>-</span><span class=n>n</span> <span class=p>-</span><span class=n>d</span> <span class=p>-+</span><span class=n>rtmidi</span><span class=p>=</span><span class=n>NULL</span> <span class=p>-</span><span class=n>M0</span> <span class=p>-</span><span class=n>m0d</span> <span class=p>--</span><span class=n>midi</span><span class=p>-</span><span class=n>key</span><span class=p>-</span><span class=n>cps</span><span class=p>=</span><span class=m>4</span> <span class=p>--</span><span class=n>midi</span><span class=p>-</span><span class=n>velocity</span><span class=p>-</span><span class=n>amp</span><span class=p>=</span><span class=m>5</span>
<span class=p>&lt;/</span><span class=n>CsOptions</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsInstruments</span><span class=p>&gt;</span>
<span class=p>;</span> <span class=n>Initialize</span> <span class=n>the</span> <span class=k>global</span> <span class=n>variables</span><span class=p>.</span> 
<span class=n>sr</span> <span class=p>=</span> <span class=m>44100</span>
<span class=n>ksmps</span> <span class=p>=</span> <span class=m>32</span>
<span class=n>nchnls</span> <span class=p>=</span> <span class=m>2</span>
<span class=m>0d</span><span class=n>bfs</span> <span class=p>=</span> <span class=m>1</span>

<span class=p>;</span><span class=n>instrument</span> <span class=n>will</span> <span class=n>be</span> <span class=n>triggered</span> <span class=k>by</span> <span class=n>keyboard</span> <span class=n>widget</span>
<span class=n>instr</span> <span class=m>1</span>
<span class=n>iFreq</span> <span class=p>=</span> <span class=n>p4</span>
<span class=n>iAmp</span> <span class=p>=</span> <span class=n>p5</span>

<span class=n>iAtt</span> <span class=n>chnget</span> <span class=s>"att"</span>
<span class=n>iDec</span> <span class=n>chnget</span> <span class=s>"dec"</span>
<span class=n>iSus</span> <span class=n>chnget</span> <span class=s>"sus"</span>
<span class=n>iRel</span> <span class=n>chnget</span> <span class=s>"rel"</span>
<span class=n>kRes</span> <span class=n>chnget</span> <span class=s>"res"</span>
<span class=n>kCutOff</span> <span class=n>chnget</span> <span class=s>"cutoff"</span>

<span class=n>kEnv</span> <span class=n>madsr</span> <span class=n>iAtt</span><span class=p>,</span> <span class=n>iDec</span><span class=p>,</span> <span class=n>iSus</span><span class=p>,</span> <span class=n>iRel</span> 
<span class=n>aOut</span> <span class=n>vco2</span> <span class=n>iAmp</span><span class=p>,</span> <span class=n>iFreq</span>
<span class=n>aLP</span> <span class=n>moogladder</span> <span class=n>aOut</span><span class=p>,</span> <span class=n>kCutOff</span><span class=p>,</span> <span class=n>kRes</span>
<span class=n>outs</span> <span class=n>aLP</span><span class=p>*</span><span class=n>kEnv</span><span class=p>,</span> <span class=n>aLP</span><span class=p>*</span><span class=n>kEnv</span>
<span class=n>endin</span>

<span class=p>&lt;/</span><span class=n>CsInstruments</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsScore</span><span class=p>&gt;</span>
<span class=p>;</span><span class=n>causes</span> <span class=n>Csound</span> <span class=n>to</span> <span class=n>run</span> <span class=k>for</span> <span class=n>about</span> <span class=m>7000</span> <span class=n>years</span><span class=p>...</span>
<span class=n>f0</span> <span class=n>z</span>
<span class=p>&lt;/</span><span class=n>CsScore</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=n>CsoundSynthesizer</span><span class=p>&gt;</span>
</code></pre></div> <p><img src="../../images/docs/csound_cabbage_synth2.png"></p> <h3>Sightings of LFOs!</h3> <p>Many synths use some kind of automation to control filter parameters. Sometimes an ADSR is used to control the cut-off frequency of a filter, and in other cases low frequency oscillators, or LFOs are used. As we have already seen how ADSRs work, let&#39;s look at implementing an LFO to control the filters cut-off frequency. Csound comes with a standard LFO opcode that provides several different type of waveforms to use. Its syntax, as listed in the Csound <a href=https://csound.github.io/docs/manual/lfo.html>reference</a> manual is given as: </p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>kres</span> <span class=n>lfo</span> <span class=n>kamp</span><span class=p>,</span> <span class=n>kcps</span> <span class=p>[,</span> <span class=n>itype</span><span class=p>]</span>
</code></pre></div> <p>Type can be one of the following:</p> <ul> <li>itype = 0 sine</li> <li>itype = 1 triangles</li> <li>itype = 2 square (bipolar)</li> <li>itype = 3 square (unipolar)</li> <li>itype = 4 saw-tooth</li> <li>itype = 5 saw-tooth(down)</li> </ul> <p>In our example we will use a downward moving saw-tooth wave form. A basic implementation would look like this.</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=p>(...)</span>
<span class=n>kEnv</span> <span class=n>madsr</span> <span class=n>iAtt</span><span class=p>,</span> <span class=n>iDec</span><span class=p>,</span> <span class=n>iSus</span><span class=p>,</span> <span class=n>iRel</span> 
<span class=n>aOut</span> <span class=n>vco2</span> <span class=n>iAmp</span><span class=p>,</span> <span class=n>iFreq</span>
<span class=n>kLFO</span> <span class=n>lfo</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>5</span>
<span class=n>aLP</span> <span class=n>moogladder</span> <span class=n>aOut</span><span class=p>,</span> <span class=n>kLFO</span><span class=p>*</span><span class=n>kCutOff</span><span class=p>,</span> <span class=n>kRes</span>
<span class=n>outs</span> <span class=n>aLP</span><span class=p>*</span><span class=n>kEnv</span><span class=p>,</span> <span class=n>aLP</span><span class=p>*</span><span class=n>kEnv</span>
<span class=nf>endin</span>
<span class=p>(...)</span>
</code></pre></div> <p>The output of the LFO is multiplied by the value of <em>kCutOff</em>. The frequency of the LFO is set to 1 which means the cut-off frequency will move from <em>kCutOff</em> to 0, once every second. This will create a simple rhythmical effect. Of course it doesn&#39;t make much sense to have the frequency fixed at 1. Instead, it is better to give the user control over the frequency using another slider. Finally, an amplitude control slider will also be added, allowing users to control the over amplitude of their synth. </p> <p>There are many further improvements that could be made to the simple instrument. For example, a second <code>vco2</code> could be added to create a detune effect which will add some depth to the synth&#39;s sound. One could also an ADSR to control the filter envelope, allowing the user an option to switch between modes. If you do end up with something special why not share it on the Cabbage recipes forum! </p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=p>&lt;</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=n>form</span> <span class=nf>caption</span><span class=p>(</span><span class=s>"Simple Synth"</span><span class=p>)</span> <span class=nf>size</span><span class=p>(</span><span class=m>310</span><span class=p>,</span> <span class=m>310</span><span class=p>),</span> <span class=nf>colour</span><span class=p>(</span><span class=m>58</span><span class=p>,</span> <span class=m>110</span><span class=p>,</span> <span class=m>182</span><span class=p>),</span> <span class=nf>pluginID</span><span class=p>(</span><span class=s>"def1"</span><span class=p>)</span>
<span class=n>keyboard</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>12</span><span class=p>,</span> <span class=m>164</span><span class=p>,</span> <span class=m>281</span><span class=p>,</span> <span class=m>95</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>12</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"att"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.01</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Attack"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>82</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"dec"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.5</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Decay"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>152</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"sus"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.5</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Sustain"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>222</span><span class=p>,</span> <span class=m>14</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"rel"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.7</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Release"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>12</span><span class=p>,</span> <span class=m>84</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"cutoff"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>22000</span><span class=p>,</span> <span class=m>2000</span><span class=p>,</span> <span class=p>.</span><span class=m>5</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Cut-Off"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>82</span><span class=p>,</span> <span class=m>84</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"res"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.7</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Resonance"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>152</span><span class=p>,</span> <span class=m>84</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"LFOFreq"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>10</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"LFO Freq"</span><span class=p>)</span>
<span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>222</span><span class=p>,</span> <span class=m>84</span><span class=p>,</span> <span class=m>70</span><span class=p>,</span> <span class=m>70</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"amp"</span><span class=p>),</span> <span class=nf>range</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>0.7</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=p>.</span><span class=m>01</span><span class=p>),</span> <span class=nf>text</span><span class=p>(</span><span class=s>"Amp"</span><span class=p>)</span>
<span class=p>&lt;/</span><span class=n>Cabbage</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsoundSynthesizer</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsOptions</span><span class=p>&gt;</span>
<span class=p>-</span><span class=n>n</span> <span class=p>-</span><span class=n>d</span> <span class=p>-+</span><span class=n>rtmidi</span><span class=p>=</span><span class=n>NULL</span> <span class=p>-</span><span class=n>M0</span> <span class=p>-</span><span class=n>m0d</span> <span class=p>--</span><span class=n>midi</span><span class=p>-</span><span class=n>key</span><span class=p>-</span><span class=n>cps</span><span class=p>=</span><span class=m>4</span> <span class=p>--</span><span class=n>midi</span><span class=p>-</span><span class=n>velocity</span><span class=p>-</span><span class=n>amp</span><span class=p>=</span><span class=m>5</span>
<span class=p>&lt;/</span><span class=n>CsOptions</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsInstruments</span><span class=p>&gt;</span>
<span class=p>;</span> <span class=n>Initialize</span> <span class=n>the</span> <span class=k>global</span> <span class=n>variables</span><span class=p>.</span> 
<span class=n>sr</span> <span class=p>=</span> <span class=m>44100</span>
<span class=n>ksmps</span> <span class=p>=</span> <span class=m>32</span>
<span class=n>nchnls</span> <span class=p>=</span> <span class=m>2</span>
<span class=m>0d</span><span class=n>bfs</span> <span class=p>=</span> <span class=m>1</span>

<span class=p>;</span><span class=n>instrument</span> <span class=n>will</span> <span class=n>be</span> <span class=n>triggered</span> <span class=k>by</span> <span class=n>keyboard</span> <span class=n>widget</span>
<span class=n>instr</span> <span class=m>1</span>
<span class=n>iFreq</span> <span class=p>=</span> <span class=n>p4</span>
<span class=n>iAmp</span> <span class=p>=</span> <span class=n>p5</span>

<span class=n>iAtt</span> <span class=n>chnget</span> <span class=s>"att"</span>
<span class=n>iDec</span> <span class=n>chnget</span> <span class=s>"dec"</span>
<span class=n>iSus</span> <span class=n>chnget</span> <span class=s>"sus"</span>
<span class=n>iRel</span> <span class=n>chnget</span> <span class=s>"rel"</span>
<span class=n>kRes</span> <span class=n>chnget</span> <span class=s>"res"</span>
<span class=n>kCutOff</span> <span class=n>chnget</span> <span class=s>"cutoff"</span>
<span class=n>kLFOFreq</span> <span class=n>chnget</span> <span class=s>"LFOFreq"</span>
<span class=n>kAmp</span> <span class=n>chnget</span> <span class=s>"amp"</span>

<span class=n>kEnv</span> <span class=n>madsr</span> <span class=n>iAtt</span><span class=p>,</span> <span class=n>iDec</span><span class=p>,</span> <span class=n>iSus</span><span class=p>,</span> <span class=n>iRel</span> 
<span class=n>aOut</span> <span class=n>vco2</span> <span class=n>iAmp</span><span class=p>,</span> <span class=n>iFreq</span>
<span class=n>kLFO</span> <span class=n>lfo</span> <span class=m>1</span><span class=p>,</span> <span class=n>kLFOFreq</span>
<span class=n>aLP</span> <span class=n>moogladder</span> <span class=n>aOut</span><span class=p>,</span> <span class=n>kLFO</span><span class=p>*</span><span class=n>kCutOff</span><span class=p>,</span> <span class=n>kRes</span>
<span class=n>outs</span> <span class=n>kAmp</span><span class=p>*(</span><span class=n>aLP</span><span class=p>*</span><span class=n>kEnv</span><span class=p>),</span> <span class=n>kAmp</span><span class=p>*(</span><span class=n>aLP</span><span class=p>*</span><span class=n>kEnv</span><span class=p>)</span>
<span class=n>endin</span>

<span class=p>&lt;/</span><span class=n>CsInstruments</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=n>CsScore</span><span class=p>&gt;</span>
<span class=p>;</span><span class=n>causes</span> <span class=n>Csound</span> <span class=n>to</span> <span class=n>run</span> <span class=k>for</span> <span class=n>about</span> <span class=m>7000</span> <span class=n>years</span><span class=p>...</span>
<span class=n>f0</span> <span class=n>z</span>
<span class=p>&lt;/</span><span class=n>CsScore</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=n>CsoundSynthesizer</span><span class=p>&gt;</span>
</code></pre></div> </div> </article> <div class=doc-link-wrapper> <a href="../operators_and_comments/index.html" class="doc-link left-link" title="Previous Doc"><i class="icon icon-left-open"></i></a> <a href="../new_widgets_part_1/index.html" class="doc-link right-link" title="Next Doc"><i class="icon icon-right-open"></i></a> </div> <div class=clear></div> </div> </div> </div> <a href="index.html#0" class=back-to-top></a> <script src="../../scripts/vendor.js"></script> <script src="../../scripts/main.js"></script>  <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='https://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-74283643-1');ga('send','pageview');
    </script> </body> </html> 
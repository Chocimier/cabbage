<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"> <title>Macros And Reserved Channels | Cabbage Audio</title> <meta name=description content="Cabbage is a framework for audio software development. Using simple markup text and the Csound audio synthesis language users can target four major operating..."> <link rel=canonical href="index.html"> <link rel=alternate type=application/rss+xml title="Cabbage Audio" href=http://cabbageaudio.com/feed.xml> <link rel=apple-touch-icon sizes=57x57 href=http://cabbageaudio.com/apple-touch-icon-57x57.png> <link rel=apple-touch-icon sizes=60x60 href=http://cabbageaudio.com/apple-touch-icon-60x60.png> <link rel=apple-touch-icon sizes=72x72 href=http://cabbageaudio.com/apple-touch-icon-72x72.png> <link rel=apple-touch-icon sizes=76x76 href=http://cabbageaudio.com/apple-touch-icon-76x76.png> <link rel=apple-touch-icon sizes=114x114 href=http://cabbageaudio.com/apple-touch-icon-114x114.png> <link rel=apple-touch-icon sizes=120x120 href=http://cabbageaudio.com/apple-touch-icon-120x120.png> <link rel=apple-touch-icon sizes=144x144 href=http://cabbageaudio.com/apple-touch-icon-144x144.png> <link rel=apple-touch-icon sizes=152x152 href=http://cabbageaudio.com/apple-touch-icon-152x152.png> <link rel=apple-touch-icon sizes=180x180 href=http://cabbageaudio.com/apple-touch-icon-180x180.png> <link rel=icon type=image/png href=http://cabbageaudio.com/favicon-32x32.png sizes=32x32> <link rel=icon type=image/png href=http://cabbageaudio.com/favicon-194x194.png sizes=194x194> <link rel=icon type=image/png href=http://cabbageaudio.com/favicon-96x96.png sizes=96x96> <link rel=icon type=image/png href=http://cabbageaudio.com/android-chrome-192x192.png sizes=192x192> <link rel=icon type=image/png href=http://cabbageaudio.com/favicon-16x16.png sizes=16x16> <link rel=manifest href=http://cabbageaudio.com/manifest.json> <link rel=mask-icon href=http://cabbageaudio.com/safari-pinned-tab.svg color=#93d200> <meta name=apple-mobile-web-app-title content="Cabbage Audio"> <meta name=application-name content="Cabbage Audio"> <meta name=msapplication-TileColor content=#24b1f2> <meta name=msapplication-TileImage content=http://cabbageaudio.com/mstile-144x144.png> <meta name=theme-color content=#0391d1> <link rel=stylesheet href="../../styles/main.css"> </head> <body class=docs> <div class=wrapper> <header class=navigation role=banner> <div class=navigation-wrapper> <a href="http://cabbageaudio.com/" class=logo-header> <img src="../../images/cabbage_transparent.svg" alt="Cabbage Logo"> </a> <a href=javascript:void(0) class=navigation-menu-button id=js-mobile-menu>MENU</a> <nav role=navigation> <ul id=js-navigation-menu class="navigation-menu show"> <li class=nav-link> <a href="http://cabbageaudio.com/" title=Home>Home</a> </li> <li class=nav-link> <a href=http://cabbageaudio.com/#features title=Features>Features</a> </li> <li class=nav-link> <a href="http://cabbageaudio.com/download/" title=Download>Download</a> </li> <li class="nav-link more"> <a href="http://cabbageaudio.com/" title=Learning>Learning</a> <ul class=submenu> <li> <a href="../introduction/index.html" title=Docs>Docs</a> </li> <li> <a href="http://cabbageaudio.com/tutorials/" title=Videos>Videos</a> </li> </ul> </li> <li class=nav-link> <a href="http://cabbageaudio.com/faq/" title=FAQ>FAQ</a> </li> <li class=nav-link> <a href=http://forum.cabbageaudio.com title=Forum target=_blank>Forum</a> </li> </ul> </nav> </div> </header> <!--[if lt IE 11]>
 <p class="browserupgrade">You are using an <strong>outdated</strong> browser. The CabbageAudio site may not display correctly. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
 <![endif]--> <aside class=doc-nav> <nav role=navigation id=doc-menu> <h3>Cabbage Docs</h3> <hr> <ul> <li> <a href=http://cabbageaudio.com/docs/intro class=sub-menu-trigger> <i class=icon-right-open></i>&nbsp; Quickstart </a> <ul class=submenu> <li><a href="../introduction/index.html">Introduction</a></li> <li><a href="../standalone_host/index.html">Standalone Host</a></li> <li><a href="../first_synth/index.html">First Synth</a></li> <li><a href="../controlling/index.html">Controlling</a></li> <li><a href="../first_effect/index.html">First Effect</a></li> <li><a href="../exporting/index.html">Exporting</a></li> <li><a href="../distributing/index.html">Distributing</a></li> <li><a href="../cabbage_studio/index.html">Cabbage Studio</a></li> <li><a href="../android/index.html">Android</a></li> <li><a href="../cabbage_audio_unit/index.html">Cabbage Audio Unit</a></li> </ul> </li> </ul> <ul> <li> <a href=http://cabbageaudio.com class=sub-menu-trigger> <i class=icon-right-open></i>&nbsp; Cabbage Widgets </a> <ul class=submenu> <li><a href="../cabbage_syntax/index.html">Cabbage Syntax</a></li> <li><a href="../button/index.html">Button</a></li> <li><a href="../button_file/index.html">Button File</a></li> <li><a href="../button_info/index.html">Button Info</a></li> <li><a href="../checkbox/index.html">Checkbox</a></li> <li><a href="../combobox/index.html">Combobox</a></li> <li><a href="../csound_output/index.html">Csound Output</a></li> <li><a href="../encoder/index.html">Encoder</a></li> <li><a href="../gentable/index.html">Gentable</a></li> <li><a href="../hrange/index.html">Hrange</a></li> <li><a href="../fftdisplay/index.html">Fftdisplay</a></li> <li><a href="../form/index.html">Form</a></li> <li><a href="../groupbox/index.html">Groupbox</a></li> <li><a href="../image/index.html">Image</a></li> <li><a href="../keyboard/index.html">Keyboard</a></li> <li><a href="../label/index.html">Label</a></li> <li><a href="../numberbox/index.html">Numberbox</a></li> <li><a href="../sliders/index.html">Sliders</a></li> <li><a href="../soundfiler/index.html">Soundfiler</a></li> <li><a href="../table/index.html">Table</a></li> <li><a href="../textbox/index.html">Textbox</a></li> <li><a href="../texteditor/index.html">Texteditor</a></li> <li><a href="../vrange/index.html">Vrange</a></li> <li><a href="../xypad/index.html">Xypad</a></li> </ul> </li> </ul> <ul class=active-sub-item> <li> <a href=http://cabbageaudio.com class=sub-menu-trigger> <i class="icon-right-open active-sub-item"></i>&nbsp; Extras </a> <ul class=submenu> <li><a href="../identchannels/index.html">Identchannels</a></li> <li><a href="../plants/index.html">Plants</a></li> <li><a href="../presets/index.html">Presets</a></li> <li><a href="../gui_designer/index.html">Gui Designer</a></li> <li><a href="../widget_arrays/index.html">Widget Arrays</a></li> <li><a href="../managing_large_numbers_of_widgets/index.html">Managing Large Numbers Of Widgets</a></li> <li class=current><a href="index.html">Macros And Reserved Channels</a></li> <li><a href="../using_svgs/index.html">Using Svgs</a></li> </ul> </li> </ul> <ul class=active-sub-item> <li> <a href=http://cabbageaudio.com class=sub-menu-trigger> <i class="icon-right-open active-sub-item"></i>&nbsp; Csound </a> <ul class=submenu> <li><a href="../csound_syntax/index.html">Csound Syntax</a></li> <li><a href="../keywords/index.html">Keywords</a></li> <li><a href="../contants_and_variables/index.html">Contants And Variables</a></li> <li><a href="../opcodes/index.html">Opcodes</a></li> <li><a href="../operators_and_comments/index.html">Operators And Comments</a></li> <li><a href="../beginner_synth/index.html">Beginner Synth</a></li> </ul> </li> </ul> <ul class=active-sub-item> <li> <a href=http://cabbageaudio.com class=sub-menu-trigger> <i class="icon-right-open active-sub-item"></i>&nbsp; Extending Cabbage </a> <ul class=submenu> <li><a href="../new_widgets_part_1/index.html">New Widgets Part 1</a></li> <li><a href="../new_widgets_part_2/index.html">New Widgets Part 2</a></li> <li><a href="../new_widgets_part_3/index.html">New Widgets Part 3</a></li> </ul> </li> </ul> </nav> </aside> <div class=doc-content> <i class="toggle-nav icon icon-menu">&#xe81b;</i> <div class=container> <article class=post>  <div class=post-content> <h1>Macros and Reserved Channels</h1> <p>Cabbage specific macros can be used to define a range of difference identifiers, a provide tidy way of achieving a consistent look and feel across your instrument&#39;s widgets without having to hard code each and every one of a widget&#39;s identifiers. To create a macro one must define it using a #define keyword. The following code will create a macro called SLIDER1 that will define several attributes of a slider widget:</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=cp>#define SLIDER1 colour("red"), fontcolour("yellow"), outlinecolour("red"), range(0, 1000, 500)
</span></code></pre></div> <p>The macro can then be used anywhere else in your Cabbage code by placing it on an appropriate line of Cabbage code. For example, the following code uses the above macro with an rslider.</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>39</span><span class=p>,</span> <span class=m>12</span><span class=p>,</span> <span class=m>50</span><span class=p>,</span> <span class=m>50</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"rslider"</span><span class=p>),</span> <span class=err>$</span><span class=n>SLIDER1</span>
</code></pre></div> <p>You can override any identifiers contained in a macro by placing them in front of the macro name. The following code will override the colour identifier from the macro with a new colour.</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>rslider</span> <span class=nf>bounds</span><span class=p>(</span><span class=m>39</span><span class=p>,</span> <span class=m>12</span><span class=p>,</span> <span class=m>50</span><span class=p>,</span> <span class=m>50</span><span class=p>),</span> <span class=nf>channel</span><span class=p>(</span><span class=s>"rslider"</span><span class=p>),</span> <span class=nf>colour</span><span class=p>(</span><span class=s>"purple"</span><span class=p>),</span> <span class=err>$</span><span class=n>SLIDER1</span>
</code></pre></div> <p>You can use as many macros as you wish in your Cabbage code. </p> <h3>Accessing Cabbage macros in Csound code</h3> <p>Macros defined in the Cabbage section of your code can also be accessed in the Csound section using the same syntax. For example, a macro named SLIDER1 is defined in the Cabbage section as: </p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=cp>#define SLIDER1 colour("red"), fontcolour("yellow"), outlinecolour("red"), range(0, 1000, 500)
</span></code></pre></div> <p>It can then accessed in the Csound orchestra like this:</p> <div class=highlight><pre><code class=language-csharp data-lang=csharp><span class=n>prints</span> <span class=err>$</span><span class=n>SLIDER1</span>
</code></pre></div> <blockquote> <p>Note that macros passed from the Cabbage section to the Csound orchestra are string macros. Therefore you will need to convert to a number if you wish to pass numbered macros between Cabbage and the Csound orchestra. </p> </blockquote> <h3>Cabbage Csound Macros</h3> <p>The following are Csound macros that are set by Cabbage when it first loads. Thee macros are accessed in Csound in the very same way that regular instrument macros are. Note however that each of these macros returns a string value. Therefore you may need to convert them to a number using the strtod opcode. </p> <p><code>IS_A_PLUGIN</code> Defined if the instrument is running as a plugin</p> <p><code>SCREEN_WIDTH</code> Provides the instrument width in pixels as a string value. Use strtod to convert from string to number. On Android devices this will return the actual screen width. This can be useful if you wish to move widgets around in realtime using <a href="../identchannels/index.html">Identifier channels</a>. </p> <p><code>SCREEN_HEIGHT</code> Provides the instrument height in pixels as a string value. Use strtod to convert from string to number. On Android devices this will return the actual screen height. This can be useful if you wish to move widgets around in realtime using <a href="../identchannels/index.html">Identifier channels</a>. </p> <p><code>IS_ANDROID</code> Defined only if the instrument is being launched on an Android device. </p> <h2>Reserved Channels</h2> <p>Cabbage reserves several channels which are used to send information to Csound from either the host application, or from Cabbage itself. To retrieve info from any of these channels just use a chnget opcode.</p> <p><code>CSD_PATH</code> This string channel will retrieve the full path to the current csd file.</p> <p><code>HOST_BPM</code> Retrieve the currents host bpm. This will be updated whenever the host BPM changes.</p> <p><code>IS_PLAYING</code> Pressing play on the host transport dialogue will cause this channel to send a 1. Hitting stop will send a 0.</p> <p><code>IS_RECORDING</code> As above only for monitoring the record status of a session.</p> <p><code>TIME_IN_SECONDS</code> Return the current time in seconds from the start of the track.</p> <p><code>TIME_IN_SAMPLES</code> Return the current time in samples from the start of the track.</p> <p><code>TIME_SIG_DENOM</code> The signature denominator, e.g. the 4 of a 3/4 time sig </p> <p><code>TIME_SIG_NUM</code> The signature numerator, e.g. the 3 of a 3/4 time sig </p> <p><code>HOST_PPQ_POS</code> Return the position of the start of the last bar, in pulses-per-quarter-note.</p> <p><code>MOUSE_X</code> Returns the X coordinate of the current mouse position.</p> <p><code>MOUSE_Y</code> Returns the Y coordinate of the current mouse position</p> <p><code>MOUSE_DOWN_LEFT</code> Returns the current state of the left most mouse button; 1 if pressed, and 0 if not. </p> <p><code>MOUSE_DOWN_MIDDLE</code> Returns the current state of the middle mouse button; 1 if pressed, and 0 if not. </p> <p><code>MOUSE_DOWN_RIGHT</code> Returns the current state of the right mouse button; 1 if pressed, and 0 if not. </p> <p><code>IS_A_PLUGIN</code> Returns 1 if the instrument is running as an audio plugin, and 0 if the instrument is running as a standalone. </p> </div> </article> <div class=doc-link-wrapper> <a href="../managing_large_numbers_of_widgets/index.html" class="doc-link left-link" title="Previous Doc"><i class="icon icon-left-open"></i></a> <a href="../using_svgs/index.html" class="doc-link right-link" title="Next Doc"><i class="icon icon-right-open"></i></a> </div> <div class=clear></div> </div> </div> </div> <a href="index.html#0" class=back-to-top></a> <script src="../../scripts/vendor.js"></script> <script src="../../scripts/main.js"></script>  <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='https://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-74283643-1');ga('send','pageview');
    </script> </body> </html> 
sudo: required
dist: xenial

language: generic
os: linux
matrix:
  include:
    - os: linux
      env: COMPILER_NAME=gcc CXX=g++-5 CC=gcc-5
      addons:
        apt:
          packages:
            - g++-5
          sources: &sources
            - llvm-toolchain-precise-3.8
            - ubuntu-toolchain-r-test
    - os: linux
      env: COMPILER_NAME=clang CXX=clang++-3.8 CC=clang-3.8
      addons:
        apt:
          packages:
            - clang-3.8
          sources: *sources


before_install:
    - sudo apt-get update --fix-missing
    - sudo apt-get install -qq
        libfreetype6-dev
        libx11-dev
        libstdc++6
        libxinerama-dev
        libxrandr-dev
        libxcursor-dev
        libxcomposite-dev
        mesa-common-dev
        libasound2-dev
        freeglut3-dev
        libcurl4-gnutls-dev+
        libasound2-dev
        libjack-dev
        libcsound64-6.0

    - sudo apt-get update --fix-missing
    - sudo apt-get update -qq


branches:
    only:
        - master

before_script: cd Builds/LinuxMakefile/
script:
  - sudo unlink /usr/bin/gcc && sudo ln -s /usr/bin/gcc-5 /usr/bin/gcc
  - gcc --version
  - make -f MakeCabbageIDE

